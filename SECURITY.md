# 安全策略

## 支持的版本

我们目前支持以下版本的安全更新：

| 版本    | 支持状态          |
|---------|------------------|
| 1.x.x   | ✅ 完全支持       |
| 0.x.x   | ❌ 不再支持       |

## 报告安全漏洞

我们非常重视 `@ai-code/hooks` 的安全性。如果您发现了安全漏洞，请不要在公开的 GitHub issues 中报告，而是通过以下方式私下联系我们：

### 报告方式

1. **邮件报告**（推荐）
   - 发送至：security@ai-code-hooks.com
   - 主题：`[SECURITY] 安全漏洞报告 - 简要描述`

2. **GitHub 私人安全报告**
   - 使用 GitHub 的私人漏洞报告功能
   - 访问：https://github.com/your-org/ai-code-hooks/security/advisories/new

### 报告内容

请在报告中包含以下信息：

1. **漏洞描述**
   - 详细描述漏洞的性质和影响
   - 受影响的组件和版本

2. **重现步骤**
   - 详细的重现步骤
   - 提供最小重现代码（如可能）
   - 环境信息（React版本、浏览器等）

3. **影响评估**
   - 潜在的安全风险
   - 可能的攻击场景
   - 影响范围评估

4. **修复建议**（可选）
   - 如果您有修复建议，请提供

### 报告模板

```
## 安全漏洞报告

### 基本信息
- 漏洞类型：[XSS/注入/权限绕过/其他]
- 严重程度：[低/中/高/严重]
- 发现日期：[YYYY-MM-DD]

### 环境信息
- @ai-code/hooks 版本：
- React 版本：
- 浏览器：
- 操作系统：

### 漏洞描述
[详细描述漏洞]

### 重现步骤
1. 
2. 
3. 

### 期望行为
[描述期望的安全行为]

### 实际行为
[描述实际的不安全行为]

### 影响评估
[描述潜在的安全风险和影响范围]

### 修复建议
[如有修复建议，请提供]

### 附加信息
[任何其他相关信息]
```

## 响应流程

### 我们的承诺

- **确认时间**：我们将在 48 小时内确认收到您的报告
- **初步评估**：我们将在 5 个工作日内提供初步评估
- **修复时间**：根据漏洞严重程度，我们将尽快发布修复版本

### 严重程度分级

| 等级 | 描述 | 响应时间 |
|------|------|----------|
| 🔴 严重 | 可远程执行代码或获取敏感数据 | 24小时内 |
| 🟠 高危 | 可绕过安全控制或权限提升 | 72小时内 |
| 🟡 中危 | 可能导致信息泄露或拒绝服务 | 7天内 |
| 🟢 低危 | 轻微安全影响 | 30天内 |

### 处理流程

1. **接收报告**
   - 确认收到并分配唯一ID
   - 初步评估严重程度

2. **调查验证**
   - 验证漏洞的真实性
   - 评估影响范围和严重程度

3. **开发修复**
   - 开发安全修复方案
   - 进行内部测试和验证

4. **发布修复**
   - 发布安全更新版本
   - 更新安全公告

5. **公开披露**
   - 在修复发布后适当时间公开披露
   - 感谢报告者的贡献

## 安全最佳实践

### 对于使用者

1. **及时更新**
   - 始终使用最新版本的 `@ai-code/hooks`
   - 关注安全公告和更新

2. **输入验证**
   - 对传入 hooks 的数据进行适当验证
   - 使用 TypeScript 类型检查

3. **权限最小化**
   - 只授予必要的权限
   - 避免在不安全的环境中使用敏感功能

### 对于贡献者

1. **安全审查**
   - 所有代码变更都需要安全审查
   - 特别关注输入验证和输出编码

2. **依赖管理**
   - 定期审计和更新依赖项
   - 使用 `npm audit` 检查漏洞

3. **测试覆盖**
   - 包含安全相关的测试用例
   - 测试边界条件和异常情况

## 已知安全注意事项

### localStorage 和 sessionStorage

`useLocalStorage` hook 涉及浏览器存储：

- ⚠️ 不要存储敏感信息（密码、token等）
- ⚠️ 注意跨站脚本攻击（XSS）风险
- ✅ 对存储的数据进行适当的验证和清理

### 网络请求

`useApi` hook 处理网络请求：

- ⚠️ 验证 API 响应数据
- ⚠️ 注意跨站请求伪造（CSRF）
- ✅ 使用 HTTPS 进行敏感数据传输

### 用户输入

涉及用户输入的 hooks：

- ⚠️ 对所有用户输入进行验证
- ⚠️ 防止注入攻击
- ✅ 使用适当的编码和转义

## 安全联系方式

- **邮箱**：security@ai-code-hooks.com
- **PGP Key**：[PGP公钥链接]
- **响应时间**：工作日 24 小时内回复

## 致谢

我们感谢所有负责任地报告安全漏洞的研究人员和用户。如果您的报告被确认为有效的安全漏洞，我们将：

- 在安全公告中感谢您（如果您希望）
- 将您列入我们的安全研究人员致谢名单
- 提供适当的奖励（根据漏洞严重程度）

---

**最后更新**：2024年7月
**下次审查**：2024年10月 